
<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

    <link href="images/favicon-46c1fdb4.ico" rel="icon" type="image/ico" />
        <meta
            name="description"
            content="Documentation for Satori Perpetual Protocol"
        >
    <title>API Reference</title>

    <style media="screen">
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight .gh {
  color: #999999;
}
.highlight .sr {
  color: #f6aa11;
}
.highlight .go {
  color: #888888;
}
.highlight .gp {
  color: #555555;
}
.highlight .gs {
}
.highlight .gu {
  color: #aaaaaa;
}
.highlight .nb {
  color: #f6aa11;
}
.highlight .cm {
  color: #75715e;
}
.highlight .cp {
  color: #75715e;
}
.highlight .c1 {
  color: #75715e;
}
.highlight .cs {
  color: #75715e;
}
.highlight .c, .highlight .ch, .highlight .cd, .highlight .cpf {
  color: #75715e;
}
.highlight .err {
  color: #960050;
}
.highlight .gr {
  color: #960050;
}
.highlight .gt {
  color: #960050;
}
.highlight .gd {
  color: #49483e;
}
.highlight .gi {
  color: #49483e;
}
.highlight .ge {
  color: #49483e;
}
.highlight .kc {
  color: #66d9ef;
}
.highlight .kd {
  color: #66d9ef;
}
.highlight .kr {
  color: #66d9ef;
}
.highlight .no {
  color: #66d9ef;
}
.highlight .kt {
  color: #66d9ef;
}
.highlight .mf {
  color: #ae81ff;
}
.highlight .mh {
  color: #ae81ff;
}
.highlight .il {
  color: #ae81ff;
}
.highlight .mi {
  color: #ae81ff;
}
.highlight .mo {
  color: #ae81ff;
}
.highlight .m, .highlight .mb, .highlight .mx {
  color: #ae81ff;
}
.highlight .sc {
  color: #ae81ff;
}
.highlight .se {
  color: #ae81ff;
}
.highlight .ss {
  color: #ae81ff;
}
.highlight .sd {
  color: #e6db74;
}
.highlight .s2 {
  color: #e6db74;
}
.highlight .sb {
  color: #e6db74;
}
.highlight .sh {
  color: #e6db74;
}
.highlight .si {
  color: #e6db74;
}
.highlight .sx {
  color: #e6db74;
}
.highlight .s1 {
  color: #e6db74;
}
.highlight .s, .highlight .sa, .highlight .dl {
  color: #e6db74;
}
.highlight .na {
  color: #a6e22e;
}
.highlight .nc {
  color: #a6e22e;
}
.highlight .nd {
  color: #a6e22e;
}
.highlight .ne {
  color: #a6e22e;
}
.highlight .nf, .highlight .fm {
  color: #a6e22e;
}
.highlight .vc {
  color: #ffffff;
}
.highlight .nn {
  color: #ffffff;
}
.highlight .ni {
  color: #ffffff;
}
.highlight .bp {
  color: #ffffff;
}
.highlight .vg {
  color: #ffffff;
}
.highlight .vi {
  color: #ffffff;
}
.highlight .nv, .highlight .vm {
  color: #ffffff;
}
.highlight .w {
  color: #ffffff;
}
.highlight {
  color: #ffffff;
}
.highlight .n, .highlight .py, .highlight .nx {
  color: #ffffff;
}
.highlight .nl {
  color: #f92672;
}
.highlight .ow {
  color: #f92672;
}
.highlight .nt {
  color: #f92672;
}
.highlight .k, .highlight .kv {
  color: #f92672;
}
.highlight .kn {
  color: #f92672;
}
.highlight .kp {
  color: #f92672;
}
.highlight .o {
  color: #f92672;
}
    </style>
    <style media="print">
      * {
        -webkit-transition:none!important;
        transition:none!important;
      }
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight, .highlight .w {
  color: #586e75;
}
.highlight .err {
  color: #002b36;
  background-color: #dc322f;
}
.highlight .c, .highlight .ch, .highlight .cd, .highlight .cm, .highlight .cpf, .highlight .c1, .highlight .cs {
  color: #657b83;
}
.highlight .cp {
  color: #b58900;
}
.highlight .nt {
  color: #b58900;
}
.highlight .o, .highlight .ow {
  color: #93a1a1;
}
.highlight .p, .highlight .pi {
  color: #93a1a1;
}
.highlight .gi {
  color: #859900;
}
.highlight .gd {
  color: #dc322f;
}
.highlight .gh {
  color: #268bd2;
  background-color: #002b36;
  font-weight: bold;
}
.highlight .k, .highlight .kn, .highlight .kp, .highlight .kr, .highlight .kv {
  color: #6c71c4;
}
.highlight .kc {
  color: #cb4b16;
}
.highlight .kt {
  color: #cb4b16;
}
.highlight .kd {
  color: #cb4b16;
}
.highlight .s, .highlight .sb, .highlight .sc, .highlight .dl, .highlight .sd, .highlight .s2, .highlight .sh, .highlight .sx, .highlight .s1 {
  color: #859900;
}
.highlight .sa {
  color: #6c71c4;
}
.highlight .sr {
  color: #2aa198;
}
.highlight .si {
  color: #d33682;
}
.highlight .se {
  color: #d33682;
}
.highlight .nn {
  color: #b58900;
}
.highlight .nc {
  color: #b58900;
}
.highlight .no {
  color: #b58900;
}
.highlight .na {
  color: #268bd2;
}
.highlight .m, .highlight .mb, .highlight .mf, .highlight .mh, .highlight .mi, .highlight .il, .highlight .mo, .highlight .mx {
  color: #859900;
}
.highlight .ss {
  color: #859900;
}
    </style>
    <link href="stylesheets/screen-cee49007.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print-a151e035.css" rel="stylesheet" media="print" />
      <script src="javascripts/all-b12a2749.js"></script>

    <script>
      $(function() { setupCodeCopy(); });
    </script>
  </head>

  <body class="index" data-languages="[&quot;java&quot;,&quot;json&quot;]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar-cad8cdcb.png" alt="" />
      </span>
    </a>
    <div class="toc-wrapper">
      <img src="images/logo-e493bc70.png" class="logo" alt="" />
        <div class="lang-selector">
              <a href="#" data-language-name="java">java</a>
              <a href="#" data-language-name="json">json</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <ul id="toc" class="toc-list-h1">
          <li>
            <a href="#introduction" class="toc-h1 toc-link" data-title="Introduction">Introduction</a>
          </li>
          <li>
            <a href="#user-funds" class="toc-h1 toc-link" data-title="User funds">User funds</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#adding-funds" class="toc-h2 toc-link" data-title="Adding Funds">Adding Funds</a>
                  </li>
                  <li>
                    <a href="#withdrawing-funds" class="toc-h2 toc-link" data-title="Withdrawing Funds">Withdrawing Funds</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#perpetuals" class="toc-h1 toc-link" data-title="Perpetuals">Perpetuals</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#matchmaking" class="toc-h2 toc-link" data-title="Matchmaking">Matchmaking</a>
                  </li>
                  <li>
                    <a href="#margin" class="toc-h2 toc-link" data-title="Margin">Margin</a>
                  </li>
                  <li>
                    <a href="#funding-costs" class="toc-h2 toc-link" data-title="Funding Costs">Funding Costs</a>
                  </li>
                  <li>
                    <a href="#trading-fees" class="toc-h2 toc-link" data-title="Trading fees">Trading fees</a>
                  </li>
                  <li>
                    <a href="#index-price" class="toc-h2 toc-link" data-title="Index Price">Index Price</a>
                  </li>
                  <li>
                    <a href="#oracle-price" class="toc-h2 toc-link" data-title="Oracle Price">Oracle Price</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#liquidations" class="toc-h1 toc-link" data-title="Liquidations">Liquidations</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#closing-price" class="toc-h2 toc-link" data-title="Closing Price">Closing Price</a>
                  </li>
                  <li>
                    <a href="#insurance-vault" class="toc-h2 toc-link" data-title="Insurance Vault">Insurance Vault</a>
                  </li>
                  <li>
                    <a href="#automatic-deleveraging-system" class="toc-h2 toc-link" data-title="Automatic Deleveraging System">Automatic Deleveraging System</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#websocket-api" class="toc-h1 toc-link" data-title="Websocket API">Websocket API</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#subscriptions" class="toc-h2 toc-link" data-title="Subscriptions">Subscriptions</a>
                  </li>
                  <li>
                    <a href="#updates" class="toc-h2 toc-link" data-title="Updates">Updates</a>
                  </li>
              </ul>
          </li>
      </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id='introduction'>Introduction</h1>
<p>Welcome to the docs for the Satori Perpetual Protocol. Satori is a decentralized financial derivatives platform built on Polygon zkEVM, zkSync, and Scroll. It features an order book model in collaboration with many market makers to provide comprehensive exposure to a wide range of assets, and an “off-chain aggregation and on-chain settlement” design that combines the security and transparency of a decentralized exchange, with the speed and usability of a centralized exchange.</p>
<h1 id='user-funds'>User funds</h1><h2 id='adding-funds'>Adding Funds</h2>
<p>Users can directly deposit USDT to trade on the Satori exchange.</p>
<h2 id='withdrawing-funds'>Withdrawing Funds</h2>
<p>Users can withdraw their funds in USDT at any point.</p>
<h1 id='perpetuals'>Perpetuals</h1>
<p>A perpetual contract is a derivative that approximates leveraged spot trading. Investors can buy to gain from rising prices, or sell to gain from falling prices. The perpetual contract differs from traditional futures in some ways: it has no expiration time and therefore no restrictions on how long users are able to hold a position. In order to ensure that the underlying price index is tracked, perpetual contracts are guaranteed to follow the price of the underlying asset through a funding fee mechanism.</p>
<h2 id='matchmaking'>Matchmaking</h2>
<p>Orders will be matched by price-time on a FIFO basis. A transaction happens if there is a buy order that has a price equal or greater than a sell order, or if there is a market order placed in one direction and orders exist in the opposing direction.</p>
<h2 id='margin'>Margin</h2>
<p>Satori enforces margin requirements for users -- an initial margin requirement to open and size-up positions, and a maintenance margin requirement to avoid liquidations. Margin can be added and removed at will above the initial margin.</p>

<p>Either cross-margining or isolated-margining can be used. Cross-margining means that all of the margin balance in a user&#39;s account is used as margin for any position. In this mode, a user&#39;s position is at a much lower risk of being forced to close. Isolated-margining means that the guaranteed assets allocated to a position are limited to a certain amount. In this mode, if a user&#39;s position is blown out due to price fluctuations, only the margin amount of the position in that direction will be lost, and no other funds in the account will be affected.</p>
<h3 id='initial-margin'>Initial Margin</h3>
<p>The maximum supported leverage is 25x, so least 4% of the position value must be used as collateral upon opening a new position.</p>

<p>For example, with $100 of collateral, the maximum position size that can be put on is:</p>

<table><thead>
<tr>
<th>Leverage</th>
<th>Position Size</th>
</tr>
</thead><tbody>
<tr>
<td>5x</td>
<td>$500</td>
</tr>
<tr>
<td>10x</td>
<td>$1,000</td>
</tr>
<tr>
<td>25x</td>
<td>$2,500</td>
</tr>
</tbody></table>
<h3 id='maintenance-margin'>Maintenance Margin</h3>
<p>If the value of a position falls below the maintenance margin level, it may be automatically closed out by the liquidation engine.</p>

<p>The maintenance margin rates are determined on a per-token-pair basis:</p>

<table><thead>
<tr>
<th>Token</th>
<th>Maintenance Margin Rate</th>
</tr>
</thead><tbody>
<tr>
<td>BTC</td>
<td>0.5%</td>
</tr>
<tr>
<td>ETH</td>
<td>0.5%</td>
</tr>
<tr>
<td>MATIC</td>
<td>0.5%</td>
</tr>
</tbody></table>

<p>For example, a long leveraged position in BTC-USDT may be liquidated after the mark price dips below 0.5% above the bankruptcy price.</p>

<p>The denominated asset for all perpetual markets is USDT.</p>
<h2 id='funding-costs'>Funding Costs</h2>
<p>We anchor the price of perpetual contracts to the spot index price through a funding fee mechanism. Long positions pay short positions when the future is trading at a premium; short positions pay long positions when the future is trading below. The platform does not receive any of the fees.</p>

<p>The funding fee is charged every hour, and calculated as follows:</p>

<aside class="formula">
  Funding fee = position size * oracle price * funding fee rate
</aside>
<h3 id='funding-fee-rate-calculation'>Funding Fee Rate Calculation</h3>
<p>The funding fee rate is comprised of two components: the interest rate and the premium index.</p>

<p>The interest rate is currently set to <code>0.03%</code> per day.</p>

<p>The premium index is calculated for each market, per minute (at random points in that minute) using the following formula:</p>

<aside class="formula">
  Premium Index = (max(0, B - I) - max(0, I - A)) / I
</aside>

<p>Where:</p>

<ul>
<li><code>B</code> is the <code>impact bid price</code>, or the average execution price to close out a long position of impact notional value through a market sell</li>
<li><code>A</code> is the <code>impact ask price</code>, or the average execution price to close out a short position of impact notional value through a market buy</li>
<li><code>I</code> is the spot index price</li>
<li><code>Impact Notional Value</code> is set to 800 USDT / Initial Margin Ratio of the Market</li>
</ul>

<p>The total premium index for an hour is then the average of all premium indices calculated for that hour.</p>

<p>Altogether, the funding fee rate is calculated as:</p>

<aside class="formula">
    Funding Fee Rate = Premium Index + clamp(Interest Rate/24 - Premium Index, 0.05%, -0.05%)
</aside>

<p>In other words, the funding fee rate will equal the hourly interest rate if the premium index is within 0.05% of the hourly interest rate.</p>
<h3 id='funding-fee-rate-cap'>Funding Fee Rate Cap</h3>
<p>The absolute value of the Funding Fee Rate is capped at 0.75%.</p>
<h2 id='trading-fees'>Trading fees</h2>
<p>The fees are differentiated between whether or not the user was a maker or taker for the trade.</p>

<table><thead>
<tr>
<th>Token</th>
<th>Maker Fees</th>
<th>Taker Fees</th>
</tr>
</thead><tbody>
<tr>
<td>BTC</td>
<td>0.04%</td>
<td>0.06%</td>
</tr>
<tr>
<td>ETH</td>
<td>0.04%</td>
<td>0.06%</td>
</tr>
<tr>
<td>MATIC</td>
<td>0.04%</td>
<td>0.06%</td>
</tr>
</tbody></table>
<h2 id='index-price'>Index Price</h2>
<p>The <code>Index Price</code> refers to the price of the underlying asset on the spot market. It&#39;s an aggregate price based off price data from multiple exchanges, calculated every second.</p>

<p>The exchanges we aggregate from are as follows for each market:</p>
<h4 id='btc-usd'>BTC-USD</h4>
<p><code>Coinbase</code>
<code>Binance</code>
<code>OKX</code></p>
<h4 id='eth-usd'>ETH-USD</h4>
<p><code>Coinbase</code>
<code>Binance</code>
<code>OKX</code></p>
<h4 id='matic-usd'>MATIC-USD</h4>
<p><code>Coinbase</code>
<code>Binance</code>
<code>OKX</code></p>

<p>For BTC-denominated currency pairs, the system multiplies by the OKX BTC-USD index to convert to the US dollar price.</p>

<p>We have implemented logic to ensure that index fluctuations are within the normal range when there is a significant deviation from the price of a single exchange. In addition, the system invalidates exchanges whose latest transaction price and trade volume have not been updated for a period of time.</p>

<p>If an exchange price deviates by more than 3% relative to the median price of all exchanges, the exchange price will be calculated according to the <code>median*0.97</code> or the <code>median*1.03</code>.</p>
<h2 id='oracle-price'>Oracle Price</h2>
<p>The <code>Oracle Price</code> is an aggregate price calculated using multiple on-chain price oracles. Oracle prices are used to determine collateralization and liquidations on Satori.</p>

<p>Since the oracle price is also an aggregate price, it offers similar protection from flash crashes as the index price does.</p>

<p>For the Alpha launch, Satori runs its own oracle nodes.</p>
<h1 id='liquidations'>Liquidations</h1>
<p>Positions where the margin rate is less than or equal to the maintenance margin rate may be liquidated.</p>
<h2 id='closing-price'>Closing Price</h2>
<p>The closing price is determined by:</p>

<aside class="formula">
  <code>
    Closing Price (long) =
      Average Opening Price * (1 + Maintenance Margin Rate) - (Position Margin / Number of Contracts)

    Closing Price (short) =
      Average Opening Price * (1 - Maintenance Margin Rate) + (Position Margin / Number of Contracts)
  </code>
</aside>

<p>If the position is liquidated at a price better than the bankruptcy price, then the funds will be added to the insurance vault. Otherwise, if the position is liquidated at a worse price, then the insurance vault funds will be used to cover the loss due to the position. If that insurance vault is insufficient, then the <a href="#automatic-deleveraging-system">auto-deleveraging system</a> will reduce the positions of investors that have positions in the opposite direction.</p>
<h2 id='insurance-vault'>Insurance Vault</h2>
<p>When a position is liquidated, it will be taken over by the forced liquidation system. If the liquidation cannot be fulfilled by the time the perpetual reaches the bankruptcy price, the loss will be covered by the insurance vault, a reserve maintained by the platform.</p>

<p>The insurance vault is currently seeded and maintained by the Satori team, and will eventually be funded through trading fees.</p>
<h2 id='automatic-deleveraging-system'>Automatic Deleveraging System</h2>
<p>In the event that the insurance vault is insufficient to cover a liquidation loss, the Automatic Deleveraging System (ADL) will automatically deleverage traders holding positions in the opposite direction.</p>

<p>The ADL will deleverage traders in descending order of profit and leverage, i.e. the higher the profit and the more leverage used the higher the ranking.</p>

<p>Traders can view their priority ranking for automatic position reduction via the “ADL Ranking” indicator in the UI. Each light represents a 20% priority ranking, and when all lights are on, the position may be reduced in the event of a forced liquidation.</p>

<p>Positions will be reduced atomically: after the first user&#39;s position in line has been fully reduced, the second position will continue to be reduced and so on.</p>
<h3 id='adl-ranking-calculation-method'>ADL ranking calculation method</h3>
<aside class="formula">
    <code>
    Ranking =
            % profit * effective leverage (if profit, i.e. % profit > 0)

            OR

            % profit / effective leverage (if loss, i.e. % profit < 0)
    </code>

</aside>

<p>Where:</p>

<ul>
<li><code>Effective leverage</code> is <code>mark value / (mark value - bankruptcy value)</code></li>
<li><code>% profit</code> is <code>(mark value - average open value) / average opening value</code></li>
<li><code>Mark value</code> is the value of the position at the mark price</li>
<li><code>Bankruptcy value</code> is the value of position at the bankruptcy price</li>
<li><code>Average opening value</code> is the the value of position at average opening price</li>
</ul>
<h1 id='websocket-api'>Websocket API</h1>
<p>Satori offers a WebSocket API for streaming updates.</p>

<ul>
<li>Testing: ws://zk-test.satori.finance</li>
<li>Production: ws://zk.satori.finance</li>
</ul>

<blockquote>
<p>Example</p>
</blockquote>
<div class="highlight"><pre class="highlight java tab-java"><code><span class="nc">JSONObject</span> <span class="n">params</span><span class="o">=</span><span class="k">new</span> <span class="nc">JSONObject</span><span class="o">();</span>
            <span class="n">params</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"method"</span><span class="o">,</span><span class="s">"SUBSCRIBE"</span><span class="o">);</span>
            <span class="n">params</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"event"</span><span class="o">,</span><span class="s">"api_account"</span><span class="o">);</span>
            <span class="n">params</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"apiKey"</span><span class="o">,</span><span class="s">"ZPV45xgpL3ofaHLPicjA0D4PLgzPRlKd"</span><span class="o">);</span>
            <span class="n">params</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"symbol"</span><span class="o">,</span><span class="s">"USDT"</span><span class="o">);</span>
            <span class="c1">//params.put("period","1MIN");</span>
            <span class="kt">long</span> <span class="n">time</span><span class="o">=</span><span class="k">new</span> <span class="nc">Date</span><span class="o">().</span><span class="na">getTime</span><span class="o">();</span>
            <span class="n">params</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"timestamp"</span><span class="o">,</span><span class="n">time</span><span class="o">);</span>
            <span class="nc">String</span> <span class="n">sha256</span> <span class="o">=</span> <span class="nc">HMacUtil</span><span class="o">.</span><span class="na">sha256</span><span class="o">(</span><span class="nc">String</span><span class="o">.</span><span class="na">valueOf</span><span class="o">(</span><span class="n">time</span><span class="o">),</span> <span class="s">"5928758659f61d099c191607b3ebdf07aabf1cf2"</span><span class="o">);</span>
            <span class="n">params</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"signature"</span><span class="o">,</span><span class="n">sha256</span><span class="o">);</span>
            <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">params</span><span class="o">.</span><span class="na">toJSONString</span><span class="o">());</span>
</code></pre></div>
<blockquote>
<p>HMacUtil.java</p>
</blockquote>
<div class="highlight"><pre class="highlight java tab-java"><code><span class="kn">import</span> <span class="nn">javax.crypto.Mac</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.crypto.spec.SecretKeySpec</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.security.InvalidKeyException</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.security.NoSuchAlgorithmException</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">HMacUtil</span> <span class="o">{</span>


    <span class="kd">public</span> <span class="kd">static</span> <span class="nc">String</span> <span class="nf">sha256</span><span class="o">(</span><span class="nc">String</span> <span class="n">message</span><span class="o">,</span><span class="nc">String</span> <span class="n">secret</span><span class="o">)</span> <span class="kd">throws</span> <span class="nc">InvalidKeyException</span><span class="o">,</span> <span class="nc">NoSuchAlgorithmException</span> <span class="o">{</span>
        <span class="nc">Mac</span> <span class="n">sha256HMAC</span> <span class="o">=</span> <span class="nc">Mac</span><span class="o">.</span><span class="na">getInstance</span><span class="o">(</span><span class="s">"HmacSHA256"</span><span class="o">);</span>
        <span class="nc">SecretKeySpec</span> <span class="n">secret_key</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">SecretKeySpec</span><span class="o">(</span><span class="n">secret</span><span class="o">.</span><span class="na">getBytes</span><span class="o">(),</span> <span class="s">"HmacSHA256"</span><span class="o">);</span>
        <span class="n">sha256HMAC</span><span class="o">.</span><span class="na">init</span><span class="o">(</span><span class="n">secret_key</span><span class="o">);</span>
        <span class="k">return</span> <span class="nf">byteArrayToHexString</span><span class="o">(</span><span class="n">sha256HMAC</span><span class="o">.</span><span class="na">doFinal</span><span class="o">(</span><span class="n">message</span><span class="o">.</span><span class="na">getBytes</span><span class="o">()));</span>
    <span class="o">}</span>

    <span class="kd">private</span> <span class="kd">static</span> <span class="nc">String</span> <span class="nf">byteArrayToHexString</span><span class="o">(</span><span class="kt">byte</span><span class="o">[]</span> <span class="n">b</span><span class="o">)</span> <span class="o">{</span>
        <span class="nc">StringBuilder</span> <span class="n">hs</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">StringBuilder</span><span class="o">();</span>
        <span class="nc">String</span> <span class="n">stmp</span><span class="o">;</span>
        <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">n</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">b</span><span class="o">!=</span><span class="kc">null</span> <span class="o">&amp;&amp;</span> <span class="n">n</span> <span class="o">&lt;</span> <span class="n">b</span><span class="o">.</span><span class="na">length</span><span class="o">;</span> <span class="n">n</span><span class="o">++)</span> <span class="o">{</span>
            <span class="n">stmp</span> <span class="o">=</span> <span class="nc">Integer</span><span class="o">.</span><span class="na">toHexString</span><span class="o">(</span><span class="n">b</span><span class="o">[</span><span class="n">n</span><span class="o">]</span> <span class="o">&amp;</span> <span class="mh">0XFF</span><span class="o">);</span>
            <span class="k">if</span> <span class="o">(</span><span class="n">stmp</span><span class="o">.</span><span class="na">length</span><span class="o">()</span> <span class="o">==</span> <span class="mi">1</span><span class="o">)</span>
                <span class="n">hs</span><span class="o">.</span><span class="na">append</span><span class="o">(</span><span class="sc">'0'</span><span class="o">);</span>
            <span class="n">hs</span><span class="o">.</span><span class="na">append</span><span class="o">(</span><span class="n">stmp</span><span class="o">);</span>
        <span class="o">}</span>
        <span class="k">return</span> <span class="n">hs</span><span class="o">.</span><span class="na">toString</span><span class="o">().</span><span class="na">toLowerCase</span><span class="o">();</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div><h2 id='subscriptions'>Subscriptions</h2><h3 id='subscribing-to-account-data'>Subscribing to Account Data</h3>
<p>url: <code>${wsUrl}/api/account/ws</code></p>

<blockquote>
<p>Example Request</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"symbol"</span><span class="p">:</span><span class="s2">"MATIC"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"method"</span><span class="p">:</span><span class="s2">"SUBSCRIBE"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"apiKey"</span><span class="p">:</span><span class="s2">"5WlQeUYgKx85H8ID3XygdYVMOFjlXyw9"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"signature"</span><span class="p">:</span><span class="s2">"1b883450a6bb3749729d429133fd06cec28215a6abcb876b08cc531ed86b7782"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"event"</span><span class="p">:</span><span class="s2">"api_account"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="mi">1657157345159</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>Example Response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"success"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nl">"msg"</span><span class="p">:</span><span class="s2">"subscribe success: api_account"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"method"</span><span class="p">:</span><span class="s2">"SUBSCRIBE"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"event"</span><span class="p">:</span><span class="s2">"api_account"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id='request-parameters'>Request Parameters</h4>
<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>method</td>
<td>String</td>
<td>√</td>
<td>Methods - SUBSCRIBE, UNSUBSCRIBE</td>
</tr>
<tr>
<td>event</td>
<td>String</td>
<td>√</td>
<td>Event, see event table (api_account）</td>
</tr>
<tr>
<td>apiKey</td>
<td>String</td>
<td>√</td>
<td>API Key</td>
</tr>
<tr>
<td>timestamp</td>
<td>Long</td>
<td>√</td>
<td>Time</td>
</tr>
<tr>
<td>signature</td>
<td>String</td>
<td>√</td>
<td>Signature</td>
</tr>
<tr>
<td>symbol</td>
<td>String</td>
<td>√</td>
<td>Asset symbol</td>
</tr>
</tbody></table>
<h4 id='response-parameters'>Response Parameters</h4>
<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>success</td>
<td>Boolean</td>
<td>√</td>
<td>true,false</td>
</tr>
<tr>
<td>msg</td>
<td>String</td>
<td>√</td>
<td>Message</td>
</tr>
<tr>
<td>method</td>
<td>String</td>
<td>√</td>
<td>Methods - SUBSCRIBE，UNSUBSCRIBE</td>
</tr>
<tr>
<td>event</td>
<td>String</td>
<td>√</td>
<td>The same as the event parameter in the request. See the event table for details.</td>
</tr>
<tr>
<td>symbol</td>
<td>String</td>
<td>√</td>
<td>Asset symbol</td>
</tr>
</tbody></table>
<h3 id='subscribing-to-orders'>Subscribing to Orders</h3>
<p>url: <code>${wsUrl}/api/entrust/ws</code></p>
<h4 id='request-parameters-2'>Request Parameters</h4>
<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>method</td>
<td>String</td>
<td>√</td>
<td>Methods - SUBSCRIBE，UNSUBSCRIBE</td>
</tr>
<tr>
<td>event</td>
<td>String</td>
<td>√</td>
<td>See event table (api_entrust) for details.</td>
</tr>
<tr>
<td>apiKey</td>
<td>String</td>
<td>√</td>
<td>API key</td>
</tr>
<tr>
<td>timestamp</td>
<td>Long</td>
<td>√</td>
<td>Time</td>
</tr>
<tr>
<td>signature</td>
<td>String</td>
<td>√</td>
<td>Signature</td>
</tr>
<tr>
<td>pair</td>
<td>String</td>
<td>√</td>
<td>Trading Pair</td>
</tr>
</tbody></table>
<h4 id='response-parameters-2'>Response Parameters</h4>
<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>success</td>
<td>Boolean</td>
<td>√</td>
<td>true,false</td>
</tr>
<tr>
<td>msg</td>
<td>String</td>
<td>√</td>
<td>Message</td>
</tr>
<tr>
<td>method</td>
<td>String</td>
<td>√</td>
<td>Methods - SUBSCRIBE，UNSUBSCRIBE</td>
</tr>
<tr>
<td>event</td>
<td>String</td>
<td>√</td>
<td>The same as the event parameter in the request. See the event table for details.</td>
</tr>
<tr>
<td>pair</td>
<td>String</td>
<td>√</td>
<td>Trading pair</td>
</tr>
</tbody></table>
<h3 id='subscribing-to-positions'>Subscribing to Positions</h3>
<p>url: <code>${wsUrl}/api/position/ws</code></p>
<h4 id='request-parameters-3'>Request Parameters</h4>
<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>method</td>
<td>String</td>
<td>√</td>
<td>Methods - SUBSCRIBE，UNSUBSCRIBE</td>
</tr>
<tr>
<td>event</td>
<td>String</td>
<td>√</td>
<td>See the event table (api_position) for details.</td>
</tr>
<tr>
<td>apiKey</td>
<td>String</td>
<td>√</td>
<td>API key</td>
</tr>
<tr>
<td>timestamp</td>
<td>Long</td>
<td>√</td>
<td>Time</td>
</tr>
<tr>
<td>signature</td>
<td>String</td>
<td>√</td>
<td>Signature</td>
</tr>
<tr>
<td>pair</td>
<td>String</td>
<td>√</td>
<td>Trading pair</td>
</tr>
</tbody></table>
<h4 id='response-parameters-3'>Response Parameters</h4>
<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>success</td>
<td>Boolean</td>
<td>√</td>
<td>true,false</td>
</tr>
<tr>
<td>msg</td>
<td>String</td>
<td>√</td>
<td>Message</td>
</tr>
<tr>
<td>method</td>
<td>String</td>
<td>√</td>
<td>Methods - SUBSCRIBE，UNSUBSCRIBE</td>
</tr>
<tr>
<td>event</td>
<td>String</td>
<td>√</td>
<td>The same as the event parameter in the request. See the event table for details.</td>
</tr>
<tr>
<td>pair</td>
<td>String</td>
<td>√</td>
<td>Trading pair</td>
</tr>
</tbody></table>
<h3 id='subscribing-to-kline-data'>Subscribing to Kline Data</h3>
<p>url: <code>${wsUrl}/api/kline/ws</code></p>
<h4 id='request-parameters-4'>Request Parameters</h4>
<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>method</td>
<td>String</td>
<td>√</td>
<td>Methods - SUBSCRIBE，UNSUBSCRIBE</td>
</tr>
<tr>
<td>event</td>
<td>String</td>
<td>√</td>
<td>Check event table （api_kline）</td>
</tr>
<tr>
<td>apiKey</td>
<td>String</td>
<td>√</td>
<td>API key</td>
</tr>
<tr>
<td>timestamp</td>
<td>Long</td>
<td>√</td>
<td>Time</td>
</tr>
<tr>
<td>signature</td>
<td>String</td>
<td>√</td>
<td>Signature</td>
</tr>
<tr>
<td>pair</td>
<td>String</td>
<td>√</td>
<td>Trading pair</td>
</tr>
<tr>
<td>period</td>
<td>String</td>
<td>√</td>
<td>Check the periodEnum table</td>
</tr>
</tbody></table>
<h4 id='response-parameters-4'>Response Parameters</h4>
<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>success</td>
<td>Boolean</td>
<td>√</td>
<td>true,false</td>
</tr>
<tr>
<td>msg</td>
<td>String</td>
<td>√</td>
<td>Message</td>
</tr>
<tr>
<td>method</td>
<td>String</td>
<td>√</td>
<td>Methods - SUBSCRIBE，UNSUBSCRIBE</td>
</tr>
<tr>
<td>event</td>
<td>String</td>
<td>√</td>
<td>The same as the event parameter in the request. See the event table for details.</td>
</tr>
<tr>
<td>pair</td>
<td>String</td>
<td>√</td>
<td>Trading pair</td>
</tr>
<tr>
<td>period</td>
<td>String</td>
<td>√</td>
<td>Check the periodEnum table</td>
</tr>
</tbody></table>
<h3 id='subscribing-to-market-data'>Subscribing to Market Data</h3>
<p>url: <code>${wsUrl}/api/depth/ws</code></p>
<h4 id='request-parameters-5'>Request Parameters</h4>
<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>method</td>
<td>String</td>
<td>√</td>
<td>Methods - SUBSCRIBE，UNSUBSCRIBE</td>
</tr>
<tr>
<td>event</td>
<td>String</td>
<td>√</td>
<td>See event table（api_depth）</td>
</tr>
<tr>
<td>apiKey</td>
<td>String</td>
<td>√</td>
<td>API key</td>
</tr>
<tr>
<td>timestamp</td>
<td>Long</td>
<td>√</td>
<td>Time</td>
</tr>
<tr>
<td>signature</td>
<td>String</td>
<td>√</td>
<td>Signature</td>
</tr>
<tr>
<td>pair</td>
<td>String</td>
<td>√</td>
<td>Trading pair</td>
</tr>
</tbody></table>
<h4 id='response-parameters-5'>Response parameters</h4>
<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>success</td>
<td>Boolean</td>
<td>√</td>
<td>true,false</td>
</tr>
<tr>
<td>msg</td>
<td>String</td>
<td>√</td>
<td>msg</td>
</tr>
<tr>
<td>method</td>
<td>String</td>
<td>√</td>
<td>Methods - SUBSCRIBE，UNSUBSCRIBE</td>
</tr>
<tr>
<td>event</td>
<td>String</td>
<td>√</td>
<td>The same as the event parameter in the request. See the event table for details.</td>
</tr>
</tbody></table>
<h3 id='subscribing-to-trading-data'>Subscribing to Trading Data</h3>
<p>url: <code>${wsUrl}/api/trans/ws</code></p>
<h4 id='request-parameters-6'>Request Parameters</h4>
<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>method</td>
<td>String</td>
<td>√</td>
<td>Methods - SUBSCRIBE，UNSUBSCRIBE</td>
</tr>
<tr>
<td>event</td>
<td>String</td>
<td>√</td>
<td>See event table （api_trade）</td>
</tr>
<tr>
<td>apiKey</td>
<td>String</td>
<td>√</td>
<td>API key</td>
</tr>
<tr>
<td>timestamp</td>
<td>Long</td>
<td>√</td>
<td>Time</td>
</tr>
<tr>
<td>signature</td>
<td>String</td>
<td>√</td>
<td>Signature</td>
</tr>
<tr>
<td>pair</td>
<td>String</td>
<td>√</td>
<td>Trading pair</td>
</tr>
<tr>
<td>period</td>
<td>String</td>
<td>√</td>
<td>Check the periodEnum table</td>
</tr>
</tbody></table>
<h4 id='response-parameters-6'>Response parameters</h4>
<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>success</td>
<td>Boolean</td>
<td>√</td>
<td>true,false</td>
</tr>
<tr>
<td>msg</td>
<td>String</td>
<td>√</td>
<td>msg</td>
</tr>
<tr>
<td>method</td>
<td>String</td>
<td>√</td>
<td>Methods - SUBSCRIBE，UNSUBSCRIBE</td>
</tr>
<tr>
<td>event</td>
<td>String</td>
<td>√</td>
<td>The same as the event parameter in the request. See the event table for details.</td>
</tr>
<tr>
<td>pair</td>
<td>String</td>
<td>√</td>
<td>Trading pair</td>
</tr>
</tbody></table>
<h2 id='updates'>Updates</h2><h3 id='account-update'>Account Update</h3>
<blockquote>
<p>Example response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"availableAmount"</span><span class="p">:</span><span class="s2">"8000"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"coinId"</span><span class="p">:</span><span class="mi">5</span><span class="p">,</span><span class="w">
    </span><span class="nl">"frozenAmount"</span><span class="p">:</span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"logId"</span><span class="p">:</span><span class="mi">8</span><span class="p">,</span><span class="w">
    </span><span class="nl">"operateAmount"</span><span class="p">:</span><span class="s2">"0.00"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"symbol"</span><span class="p">:</span><span class="s2">"MATIC"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"coinId"</span><span class="p">:</span><span class="mi">0</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"event"</span><span class="p">:</span><span class="s2">"api_account"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"success"</span><span class="p">:</span><span class="kc">true</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>data</td>
<td>Object</td>
<td></td>
<td>Account information</td>
</tr>
<tr>
<td>event</td>
<td>String</td>
<td></td>
<td>See event table (api_account)</td>
</tr>
<tr>
<td>success</td>
<td>Boolean</td>
<td></td>
<td>true,false</td>
</tr>
</tbody></table>
<h4 id='data'>Data</h4>
<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>availableAmount</td>
<td>String</td>
<td></td>
<td>Available amount</td>
</tr>
<tr>
<td>frozenAmount</td>
<td>String</td>
<td></td>
<td>Frozen Amount</td>
</tr>
<tr>
<td>logId</td>
<td>Long</td>
<td></td>
<td>Log ID</td>
</tr>
<tr>
<td>operateAmount</td>
<td>String</td>
<td></td>
<td>Operating amount</td>
</tr>
<tr>
<td>symbol</td>
<td>String</td>
<td></td>
<td>Asset symbol</td>
</tr>
<tr>
<td>coinId</td>
<td>Long</td>
<td></td>
<td>Coin ID</td>
</tr>
</tbody></table>
<h3 id='order-update'>Order Update</h3>
<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>data</td>
<td>Object</td>
<td></td>
<td>Account information</td>
</tr>
<tr>
<td>event</td>
<td>String</td>
<td></td>
<td>See event table(api_entrust)</td>
</tr>
<tr>
<td>success</td>
<td>Boolean</td>
<td></td>
<td>true,false</td>
</tr>
</tbody></table>
<h4 id='data-2'>Data</h4>
<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>currentEntrustId</td>
<td>Long</td>
<td></td>
<td>Order ID</td>
</tr>
<tr>
<td>changeType</td>
<td>String</td>
<td></td>
<td>Type：ENTRUST；NEW；TRADE；CANCELED</td>
</tr>
<tr>
<td>dealQuantity</td>
<td>String</td>
<td></td>
<td>Quantity already traded</td>
</tr>
<tr>
<td>direction</td>
<td>String</td>
<td></td>
<td>LONG or SHORT</td>
</tr>
<tr>
<td>lever</td>
<td>Integer</td>
<td></td>
<td>Leverage</td>
</tr>
<tr>
<td>price</td>
<td>String</td>
<td></td>
<td>Price</td>
</tr>
<tr>
<td>quantity</td>
<td>String</td>
<td></td>
<td>Quantity</td>
</tr>
<tr>
<td>symbol</td>
<td>String</td>
<td></td>
<td>Asset symbol</td>
</tr>
<tr>
<td>nowDealQuantity</td>
<td>String</td>
<td></td>
<td>Currently traded quantity</td>
</tr>
<tr>
<td>isClose</td>
<td>Boolean</td>
<td></td>
<td>true (closing position);false (opening position);</td>
</tr>
<tr>
<td>contractPairId</td>
<td>Long</td>
<td></td>
<td>Trading pair ID</td>
</tr>
<tr>
<td>dealAmount</td>
<td>String</td>
<td></td>
<td>Amount already traded</td>
</tr>
<tr>
<td>matchType</td>
<td>Integer</td>
<td></td>
<td>1 GTC；2 IOC；3 FOK；4 POST_ONLY ；</td>
</tr>
<tr>
<td>clientOrderId</td>
<td>String</td>
<td></td>
<td>Client Order ID</td>
</tr>
</tbody></table>
<h3 id='position-update'>Position Update</h3>
<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>data</td>
<td>Object</td>
<td></td>
<td>Account information</td>
</tr>
<tr>
<td>event</td>
<td>String</td>
<td></td>
<td>See event table (api_position)</td>
</tr>
<tr>
<td>success</td>
<td>Boolean</td>
<td></td>
<td>true,false</td>
</tr>
</tbody></table>
<h4 id='data-3'>Data</h4>
<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>changeType</td>
<td>String</td>
<td></td>
<td>Type：NEW; INCREASE; CLOSE; LIQUIDATE; REDUCE;</td>
</tr>
<tr>
<td>currentQuantity</td>
<td>String</td>
<td></td>
<td>Updated quantity</td>
</tr>
<tr>
<td>direction</td>
<td>String</td>
<td></td>
<td>LONG or SHORT</td>
</tr>
<tr>
<td>operateQuantity</td>
<td>String</td>
<td></td>
<td>Changed quantity</td>
</tr>
<tr>
<td>positionId</td>
<td>Long</td>
<td></td>
<td>Position record ID</td>
</tr>
<tr>
<td>symbol</td>
<td>String</td>
<td></td>
<td>Trading symbol</td>
</tr>
<tr>
<td>canClosedQuantity</td>
<td>String</td>
<td></td>
<td>Available quantity to close</td>
</tr>
<tr>
<td>contractPairId</td>
<td>Long</td>
<td></td>
<td>Trading pair ID</td>
</tr>
<tr>
<td>positionType</td>
<td>Integer</td>
<td></td>
<td>Position Type</td>
</tr>
</tbody></table>
<h3 id='kline-update'>Kline Update</h3>
<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>data</td>
<td>Object</td>
<td></td>
<td>Account information</td>
</tr>
<tr>
<td>event</td>
<td>String</td>
<td></td>
<td>See event table (api_kline)</td>
</tr>
<tr>
<td>success</td>
<td>Boolean</td>
<td></td>
<td>true,false</td>
</tr>
</tbody></table>
<h4 id='data-4'>Data</h4>
<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>amount</td>
<td>BigDecimal</td>
<td></td>
<td>Amount</td>
</tr>
<tr>
<td>close</td>
<td>BigDecimal</td>
<td></td>
<td>Closing price</td>
</tr>
<tr>
<td>count</td>
<td>Integer</td>
<td></td>
<td>Number of transactions</td>
</tr>
<tr>
<td>high</td>
<td>BigDecimal</td>
<td></td>
<td>Highest price</td>
</tr>
<tr>
<td>low</td>
<td>BigDecimal</td>
<td></td>
<td>Lowest price</td>
</tr>
<tr>
<td>open</td>
<td>BigDecimal</td>
<td></td>
<td>Opening price</td>
</tr>
<tr>
<td>period</td>
<td>String</td>
<td></td>
<td>Time interval</td>
</tr>
<tr>
<td>quantity</td>
<td>BigDecimal</td>
<td></td>
<td>Trading quantity</td>
</tr>
<tr>
<td>time</td>
<td>Long</td>
<td></td>
<td>Kline start time</td>
</tr>
<tr>
<td>contractPairId</td>
<td>Long</td>
<td></td>
<td>Contract trading pair IDs</td>
</tr>
</tbody></table>
<h3 id='market-depth-update'>Market Depth Update</h3>
<blockquote>
<p>Example</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"asks"</span><span class="p">:</span><span class="w">
    </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="nl">"price"</span><span class="p">:</span><span class="s2">"8.291"</span><span class="p">,</span><span class="nl">"quantity"</span><span class="p">:</span><span class="s2">"20.163055"</span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="nl">"price"</span><span class="p">:</span><span class="s2">"8.302"</span><span class="p">,</span><span class="nl">"quantity"</span><span class="p">:</span><span class="s2">"27.074094"</span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="nl">"price"</span><span class="p">:</span><span class="s2">"8.33"</span><span class="p">,</span><span class="nl">"quantity"</span><span class="p">:</span><span class="s2">"16.12535"</span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="nl">"price"</span><span class="p">:</span><span class="s2">"8.333"</span><span class="p">,</span><span class="nl">"quantity"</span><span class="p">:</span><span class="s2">"7.617261"</span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="nl">"price"</span><span class="p">:</span><span class="s2">"8.347"</span><span class="p">,</span><span class="nl">"quantity"</span><span class="p">:</span><span class="s2">"7.274368"</span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="nl">"price"</span><span class="p">:</span><span class="s2">"8.36"</span><span class="p">,</span><span class="nl">"quantity"</span><span class="p">:</span><span class="s2">"29.826174"</span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="nl">"price"</span><span class="p">:</span><span class="s2">"8.385"</span><span class="p">,</span><span class="nl">"quantity"</span><span class="p">:</span><span class="s2">"6.084978"</span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="nl">"price"</span><span class="p">:</span><span class="s2">"8.402"</span><span class="p">,</span><span class="nl">"quantity"</span><span class="p">:</span><span class="s2">"13.370699"</span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="nl">"price"</span><span class="p">:</span><span class="s2">"9.16"</span><span class="p">,</span><span class="nl">"quantity"</span><span class="p">:</span><span class="s2">"16.669687"</span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="nl">"price"</span><span class="p">:</span><span class="s2">"9.182"</span><span class="p">,</span><span class="nl">"quantity"</span><span class="p">:</span><span class="s2">"115.09525"</span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"bids"</span><span class="p">:</span><span class="w">
    </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="nl">"price"</span><span class="p">:</span><span class="s2">"7.794"</span><span class="p">,</span><span class="nl">"quantity"</span><span class="p">:</span><span class="s2">"7.979346"</span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="nl">"price"</span><span class="p">:</span><span class="s2">"7.783"</span><span class="p">,</span><span class="nl">"quantity"</span><span class="p">:</span><span class="s2">"24.131828"</span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="nl">"price"</span><span class="p">:</span><span class="s2">"7.765"</span><span class="p">,</span><span class="nl">"quantity"</span><span class="p">:</span><span class="s2">"16.167428"</span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="nl">"price"</span><span class="p">:</span><span class="s2">"7.76"</span><span class="p">,</span><span class="nl">"quantity"</span><span class="p">:</span><span class="s2">"21.880696"</span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="nl">"price"</span><span class="p">:</span><span class="s2">"7.755"</span><span class="p">,</span><span class="nl">"quantity"</span><span class="p">:</span><span class="s2">"14.01524"</span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="nl">"price"</span><span class="p">:</span><span class="s2">"7.754"</span><span class="p">,</span><span class="nl">"quantity"</span><span class="p">:</span><span class="s2">"4.673284"</span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="nl">"price"</span><span class="p">:</span><span class="s2">"7.73"</span><span class="p">,</span><span class="nl">"quantity"</span><span class="p">:</span><span class="s2">"16.060928"</span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="nl">"price"</span><span class="p">:</span><span class="s2">"7.707"</span><span class="p">,</span><span class="nl">"quantity"</span><span class="p">:</span><span class="s2">"25.653437"</span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="nl">"price"</span><span class="p">:</span><span class="s2">"7.705"</span><span class="p">,</span><span class="nl">"quantity"</span><span class="p">:</span><span class="s2">"20.066533"</span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="nl">"price"</span><span class="p">:</span><span class="s2">"7.686"</span><span class="p">,</span><span class="nl">"quantity"</span><span class="p">:</span><span class="s2">"19.35628"</span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"event"</span><span class="p">:</span><span class="s2">"api_depth"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"pair"</span><span class="p">:</span><span class="s2">"DOT-USDT"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"success"</span><span class="p">:</span><span class="kc">true</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>data</td>
<td>Object</td>
<td></td>
<td>Account information</td>
</tr>
<tr>
<td>event</td>
<td>String</td>
<td></td>
<td>See event table(api_depth)</td>
</tr>
<tr>
<td>success</td>
<td>Boolean</td>
<td></td>
<td>true,false</td>
</tr>
</tbody></table>
<h4 id='data-5'>data</h4>
<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>asks</td>
<td>List</td>
<td></td>
<td>List of asks</td>
</tr>
<tr>
<td>bids</td>
<td>List</td>
<td></td>
<td>List of bids</td>
</tr>
</tbody></table>
<h4 id='asks'>asks</h4>
<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>price</td>
<td>String</td>
<td></td>
<td>Price</td>
</tr>
<tr>
<td>quantity</td>
<td>String</td>
<td></td>
<td>Quantity</td>
</tr>
</tbody></table>
<h4 id='bids'>bids</h4>
<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>price</td>
<td>String</td>
<td></td>
<td>Price</td>
</tr>
<tr>
<td>quantity</td>
<td>String</td>
<td></td>
<td>Quantity</td>
</tr>
</tbody></table>
<h3 id='trade-data-update'>Trade Data Update</h3>
<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>data</td>
<td>Object</td>
<td></td>
<td>Account information</td>
</tr>
<tr>
<td>event</td>
<td>String</td>
<td></td>
<td>See event table(api_trade)</td>
</tr>
<tr>
<td>success</td>
<td>Boolean</td>
<td></td>
<td>true,false</td>
</tr>
</tbody></table>
<h3 id='data-6'>Data</h3>
<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>contractMatchPairId</td>
<td>long</td>
<td></td>
<td>Match record ID</td>
</tr>
<tr>
<td>pair</td>
<td>String</td>
<td></td>
<td>Trading pair</td>
</tr>
<tr>
<td>price</td>
<td>BigDecimal</td>
<td></td>
<td>Price</td>
</tr>
<tr>
<td>quantity</td>
<td>BigDecimal</td>
<td></td>
<td>Quantity</td>
</tr>
<tr>
<td>amount</td>
<td>BigDecimal</td>
<td></td>
<td>Trading amount</td>
</tr>
<tr>
<td>isLong</td>
<td>Boolean</td>
<td></td>
<td>true or false</td>
</tr>
<tr>
<td>time</td>
<td>String</td>
<td></td>
<td>Creation time</td>
</tr>
<tr>
<td>timestamp</td>
<td>Long</td>
<td></td>
<td>Time</td>
</tr>
<tr>
<td>contractPairId</td>
<td>Long</td>
<td></td>
<td>Trading pair ID</td>
</tr>
</tbody></table>
<h3 id='tables'>Tables</h3><h4 id='periodenum'>periodEnum</h4>
<p>periodEnum represents the time periods for data used in the API.</p>

<p>| Parameter|
  | ------- |
  | 1SECOND |
  | 1MIN    |
  | 3MIN    |
  | 5MIN    |
  | 15MIN   |
  | 30MIN   |
  | 1HOUR   |
  | 4HOUR   |
  | 8HOUR   |
  | 12HOUR  |
  | 1DAY    |
  | 1WEEK   |
  | 1MONTH  |
  | 1YEAR   |</p>
<h4 id='events'>events</h4>
<p>| Subscription |
 | ------------ |
 | api_entrust  |
 | api_position |
 | api_kline    |
 | api_depth    |
 | api_trade    |
 | api_account  |</p>

<p>| Subscription     |
 | ---------------- |
 | api_entrust_res  |
 | api_position_res |
 | api_kline_res    |
 | api_depth_res    |
 | api_trade_res    |
 | api_account_res  |</p>

<!-- ```ruby
require 'kittn'

api = Kittn::APIClient.authorize!('meowmeowmeow')
```

```python
import kittn

api = kittn.authorize('meowmeowmeow')
```

```shell
# With shell, you can just pass the correct header with each request
curl "api_endpoint_here" \
  -H "Authorization: meowmeowmeow"
```

```javascript
const kittn = require("kittn");

let api = kittn.authorize("meowmeowmeow");
```

> Make sure to replace `meowmeowmeow` with your API key.

Kittn uses API keys to allow access to the API. You can register a new Kittn API key at our [developer portal](http://example.com/developers).

Kittn expects for the API key to be included in all API requests to the server in a header that looks like the following:

`Authorization: meowmeowmeow`

<aside class="notice">
You must replace <code>meowmeowmeow</code> with your personal API key.
</aside>

# Kittens

## Get All Kittens

```ruby
require 'kittn'

api = Kittn::APIClient.authorize!('meowmeowmeow')
api.kittens.get
```

```python
import kittn

api = kittn.authorize('meowmeowmeow')
api.kittens.get()
```

```shell
curl "http://example.com/api/kittens" \
  -H "Authorization: meowmeowmeow"
```

```javascript
const kittn = require("kittn");

let api = kittn.authorize("meowmeowmeow");
let kittens = api.kittens.get();
```

> The above command returns JSON structured like this:

```json
[
  {
    "id": 1,
    "name": "Fluffums",
    "breed": "calico",
    "fluffiness": 6,
    "cuteness": 7
  },
  {
    "id": 2,
    "name": "Max",
    "breed": "unknown",
    "fluffiness": 5,
    "cuteness": 10
  }
]
```

This endpoint retrieves all kittens.

### HTTP Request

`GET http://example.com/api/kittens`

### Query Parameters

| Parameter    | Default | Description                                                                      |
| ------------ | ------- | -------------------------------------------------------------------------------- |
| include_cats | false   | If set to true, the result will also include cats.                               |
| available    | true    | If set to false, the result will include kittens that have already been adopted. |

<aside class="success">
Remember — a happy kitten is an authenticated kitten!
</aside>

## Get a Specific Kitten

```ruby
require 'kittn'

api = Kittn::APIClient.authorize!('meowmeowmeow')
api.kittens.get(2)
```

```python
import kittn

api = kittn.authorize('meowmeowmeow')
api.kittens.get(2)
```

```shell
curl "http://example.com/api/kittens/2" \
  -H "Authorization: meowmeowmeow"
```

```javascript
const kittn = require("kittn");

let api = kittn.authorize("meowmeowmeow");
let max = api.kittens.get(2);
```

> The above command returns JSON structured like this:

```json
{
  "id": 2,
  "name": "Max",
  "breed": "unknown",
  "fluffiness": 5,
  "cuteness": 10
}
```

This endpoint retrieves a specific kitten.

<aside class="warning">Inside HTML code blocks like this one, you can't use Markdown, so use <code>&lt;code&gt;</code> blocks to denote code.</aside>

### HTTP Request

`GET http://example.com/kittens/<ID>`

### URL Parameters

| Parameter | Description                      |
| --------- | -------------------------------- |
| ID        | The ID of the kitten to retrieve |

## Delete a Specific Kitten

```ruby
require 'kittn'

api = Kittn::APIClient.authorize!('meowmeowmeow')
api.kittens.delete(2)
```

```python
import kittn

api = kittn.authorize('meowmeowmeow')
api.kittens.delete(2)
```

```shell
curl "http://example.com/api/kittens/2" \
  -X DELETE \
  -H "Authorization: meowmeowmeow"
```

```javascript
const kittn = require("kittn");

let api = kittn.authorize("meowmeowmeow");
let max = api.kittens.delete(2);
```

> The above command returns JSON structured like this:

```json
{
  "id": 2,
  "deleted": ":("
}
```

This endpoint deletes a specific kitten.

### HTTP Request

`DELETE http://example.com/kittens/<ID>`

### URL Parameters

| Parameter | Description                    |
| --------- | ------------------------------ |
| ID        | The ID of the kitten to delete | -->

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="java">java</a>
                <a href="#" data-language-name="json">json</a>
          </div>
      </div>
    </div>
  </body>
</html>
